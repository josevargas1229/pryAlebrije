<div class="registration-container">
  <h2>Registro de Usuario</h2>
  <form [formGroup]="registrationForm" (ngSubmit)="onSubmit()">
    <div class="section">
      <div class="form-group">
        <label for="name">Nombre</label>
        <input type="text" id="name" formControlName="name" />
        <div *ngIf="registrationForm.get('name')?.invalid && (registrationForm.get('name')?.dirty || registrationForm.get('name')?.touched)" class="error-message">
          Este campo es requerido
        </div>
      </div>

      <div class="form-group">
        <label for="surname">Apellido</label>
        <input type="text" id="surname" formControlName="surname" />
        <div *ngIf="registrationForm.get('surname')?.invalid && (registrationForm.get('surname')?.dirty || registrationForm.get('surname')?.touched)" class="error-message">
          Este campo es requerido
        </div>
      </div>

      <div class="form-group">
        <label for="email">Correo Electrónico</label>
        <input type="email" id="email" formControlName="email" />
        <div *ngIf="registrationForm.get('email')?.invalid && (registrationForm.get('email')?.dirty || registrationForm.get('email')?.touched)" class="error-message">
          Ingrese un correo válido
        </div>
      </div>

      <div class="form-group">
        <label for="phone">Teléfono</label>
        <input type="tel" id="phone" formControlName="phone" />
        <div *ngIf="registrationForm.get('phone')?.invalid && (registrationForm.get('phone')?.dirty || registrationForm.get('phone')?.touched)" class="error-message">
          Ingrese un número de teléfono válido
        </div>
      </div>

      <div class="form-group">
        <label for="password">Contraseña</label>
        <input type="password" id="password" formControlName="password" class="input-text" />
        <div *ngIf="registrationForm.get('password')?.invalid && (registrationForm.get('password')?.dirty || registrationForm.get('password')?.touched)" class="error-message">
          Ingrese una contraseña válida
        </div>
        <div class="password-strength"
             [ngClass]="{ 'weak': passwordStrengthMessage === 'Débil',
                          'medium': passwordStrengthMessage === 'Normal',
                          'strong': passwordStrengthMessage === 'Muy fuerte' }">
          {{ passwordStrengthMessage }}
        </div>
      </div>

      <div class="form-group">
        <label for="confirmPassword">Confirmar Contraseña</label>
        <input type="password" id="confirmPassword" formControlName="confirmPassword" class="input-text" />
        <div *ngIf="passwordMismatch" class="error-message">
          Las contraseñas no coinciden
        </div>
      </div>
    </div>

    <button type="submit" [disabled]="registrationForm.invalid || passwordMismatch" class="submit-btn">
      Registrarse
    </button>

    <div *ngIf="isSubmitting" class="spinner"></div>
  </form>
</div>

<div class="sidebar">
  <!-- Home (siempre visible) -->
  <a 
    routerLink="/" 
    routerLinkActive="active"
    [routerLinkActiveOptions]="{ exact: true }"
    aria-label="Home"
    matTooltip="Ir a la página principal">
    <mat-icon>home</mat-icon>
    <span>Home</span>
  </a>

  <!-- Catálogo (siempre visible) -->
  <a 
    routerLink="/productos" 
    routerLinkActive="active" 
    aria-label="Catálogo" 
    matTooltip="Ver catálogo de productos">
    <mat-icon>category</mat-icon>
    <span>Catálogo</span>
  </a>

  <!-- Para usuarios no autenticados -->
  <ng-container *ngIf="!isLoggedIn">
    <a 
      routerLink="/login" 
      routerLinkActive="active" 
      aria-label="Login" 
      matTooltip="Iniciar sesión">
      <mat-icon>login</mat-icon>
      <span>Login</span>
    </a>

    <a 
      routerLink="/register" 
      routerLinkActive="active" 
      aria-label="Registro" 
      matTooltip="Crear una nueva cuenta">
      <mat-icon>person_add</mat-icon>
      <span>Registro</span>
    </a>
  </ng-container>

  <!-- Para usuarios autenticados -->
  <ng-container *ngIf="isLoggedIn">
    <!-- Administrador (role 1) -->
    <ng-container *ngIf="userRole === 1">
      <a 
        routerLink="/admin" 
        routerLinkActive="active" 
        aria-label="Admin" 
        matTooltip="Panel de administrador">
        <mat-icon>admin_panel_settings</mat-icon>
        <span>Admin</span>
      </a>
    </ng-container>

    <!-- Empleado (role 2) -->
    <ng-container *ngIf="userRole === 2">
      <a 
        routerLink="/ventas" 
        routerLinkActive="active" 
        aria-label="Ventas" 
        matTooltip="Ir a ventas">
        <mat-icon>monetization_on</mat-icon>
        <span>Ventas</span>
      </a>
    </ng-container>

    <!-- Cliente (role 3) -->
    <ng-container *ngIf="userRole === 3">
      <a 
        routerLink="/mis-compras" 
        routerLinkActive="active" 
        aria-label="Mis Compras" 
        matTooltip="Ver mis compras">
        <mat-icon>shopping_basket</mat-icon>
        <span>Mis Compras</span>
      </a>
      <a 
        routerLink="/ofertas" 
        routerLinkActive="active" 
        aria-label="Ofertas" 
        matTooltip="Ver ofertas disponibles">
        <mat-icon>local_offer</mat-icon>
        <span>Ofertas</span>
      </a>
      <a 
        routerLink="/creditos" 
        routerLinkActive="active" 
        aria-label="Créditos" 
        matTooltip="Ver mis créditos">
        <mat-icon>credit_card</mat-icon>
        <span>Créditos</span>
      </a>
    </ng-container>

    <!-- Logout (para todos los usuarios autenticados) -->
    <a 
      routerLink="/perfil" 
      routerLinkActive="active"
      aria-label="Perfil" 
      matTooltip="Ir a mi perfil">
      <mat-icon>person</mat-icon>
      <span>Mi perfil</span>
    </a>
    <a 
      aria-label="Logout" 
      (click)="logout()" 
      matTooltip="Cerrar sesión">
      <mat-icon>logout</mat-icon>
      <span>Logout</span>
    </a>
  </ng-container>
</div>

<div class="premio-modal">
    <div class="confetti-container" *ngIf="data.tipo === 'success'">
        <div class="confetti" *ngFor="let piece of confettiPieces" [style.left.%]="piece.left"
            [style.animation-delay.s]="piece.animationDelay" [style.background-color]="piece.backgroundColor">
        </div>
    </div>

    <button class="close-btn" (click)="close()">
        <svg width="20" height="20" viewBox="0 0 20 20" fill="none">
            <path d="M15 5L5 15M5 5L15 15" stroke="currentColor" stroke-width="2" stroke-linecap="round" />
        </svg>
    </button>

    <div class="modal-content" [ngClass]="data.tipo">
        <div class="icon-wrapper">
            <div class="icon-bg"></div>
            <div class="icon">{{ data.tipo === 'success' ? 'üéâ' : '‚ÑπÔ∏è' }}</div>
        </div>

        <h2 *ngIf="data.premio" class="premio-title">{{ data.premio }}</h2>
        <p *ngIf="data.mensaje" class="mensaje">{{ data.mensaje }}</p>

        <div class="cupon-wrapper" *ngIf="data.cupon">
            <div class="cupon-label">C√ìDIGO DE CUP√ìN</div>
            <div class="cupon-code">
                {{ data.cupon }}
            </div>
            <button class="btn-copiar" (click)="copiarCupon()" [class.copiado]="copiado">
                <svg *ngIf="!copiado" width="16" height="16" viewBox="0 0 16 16" fill="none">
                    <path
                        d="M13.5 5.5H6.5C5.94772 5.5 5.5 5.94772 5.5 6.5V13.5C5.5 14.0523 5.94772 14.5 6.5 14.5H13.5C14.0523 14.5 14.5 14.0523 14.5 13.5V6.5C14.5 5.94772 14.0523 5.5 13.5 5.5Z"
                        stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" />
                    <path
                        d="M3.5 10.5H2.5C2.23478 10.5 1.98043 10.3946 1.79289 10.2071C1.60536 10.0196 1.5 9.76522 1.5 9.5V2.5C1.5 2.23478 1.60536 1.98043 1.79289 1.79289C1.98043 1.60536 2.23478 1.5 2.5 1.5H9.5C9.76522 1.5 10.0196 1.60536 10.2071 1.79289C10.3946 1.98043 10.5 2.23478 10.5 2.5V3.5"
                        stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" />
                </svg>
                <svg *ngIf="copiado" width="16" height="16" viewBox="0 0 16 16" fill="none">
                    <path d="M13.5 4.5L6 12L2.5 8.5" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round" />
                </svg>
                {{ copiado ? 'C√≥digo copiado' : 'Copiar c√≥digo' }}
            </button>
        </div>
    </div>

    <button class="btn-aceptar" (click)="close()">
        <span>¬°Genial!</span>
        <svg width="20" height="20" viewBox="0 0 20 20" fill="none">
            <path
                d="M7 10L9 12L13 8M19 10C19 14.9706 14.9706 19 10 19C5.02944 19 1 14.9706 1 10C1 5.02944 5.02944 1 10 1C14.9706 1 19 5.02944 19 10Z"
                stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
        </svg>
    </button>
</div>